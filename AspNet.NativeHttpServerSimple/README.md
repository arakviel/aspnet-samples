# üåê –ü—Ä–æ—Å—Ç–∏–π HTTP –°–µ—Ä–≤–µ—Ä –Ω–∞ –Ω–∞—Ç–∏–≤–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ö .NET

–¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–æ–≥–æ HTTP —Å–µ—Ä–≤–µ—Ä–∞, —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ –Ω–∞ —á–∏—Å—Ç–æ–º—É .NET –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è ASP.NET Core –∞–±–æ —ñ–Ω—à–∏—Ö –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤. –í–µ—Å—å –∫–æ–¥ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ `Program.cs`.

## üéØ –ú–µ—Ç–∞ –ø—Ä–æ—î–∫—Ç—É

–ü–æ–∫–∞–∑–∞—Ç–∏ —è–∫ –ø—Ä–∞—Ü—é—î HTTP —Å–µ—Ä–≤–µ—Ä "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º" —Ç–∞ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∏:
- HTTP –∑–∞–ø–∏—Ç–∏ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –†–æ—É—Ç–∏–Ω–≥ (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è)
- Query String –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- POST –∑–∞–ø–∏—Ç–∏ —Ç–∞ —Ñ–æ—Ä–º–∏
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ (404)

## ‚ú® –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### üè† –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ (`/`)
- –ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è —Ç–∞ –æ–ø–∏—Å —Å–µ—Ä–≤–µ—Ä–∞
- –ù–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–µ –º–µ–Ω—é
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ—Ç–æ—á–Ω–∏–π –∑–∞–ø–∏—Ç

### ‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞–ø–∏—Ç (`/info`)
- –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ HTTP –∑–∞–ø–∏—Ç
- URL –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (—Å—Ö–µ–º–∞, —Ö–æ—Å—Ç, –ø–æ—Ä—Ç, —à–ª—è—Ö)
- –ú–µ—Ç–∞–¥–∞–Ω—ñ –∑–∞–ø–∏—Ç—É (User-Agent, Content-Type, —Ç–æ—â–æ)

### üìã HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ (`/headers`)
- –ü–æ–∫–∞–∑—É—î –≤—Å—ñ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø–∏—Ç—É
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤
- –¢–∞–±–ª–∏—Ü—è –∑ –Ω–∞–∑–≤–∞–º–∏ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏

### üîç Query String (`/query`)
- –†–æ–∑–±—ñ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∑ URL
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–¥—É–≤–∞–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤
- –ü—Ä–∏–∫–ª–∞–¥–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### üìù –§–æ—Ä–º–∞ (`/form`)
- HTML —Ñ–æ—Ä–º–∞ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–ª—ñ–≤
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è POST –∑–∞–ø–∏—Ç—ñ–≤

### ‚úÖ –û–±—Ä–æ–±–∫–∞ —Ñ–æ—Ä–º–∏ (`/submit`)
- –û–±—Ä–æ–±–∫–∞ POST –¥–∞–Ω–∏—Ö
- –ü–æ–∫–∞–∑ –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∑ —Ñ–æ—Ä–º–∏
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞–ø–∏—Ç

### üö´ 404 —Å—Ç–æ—Ä—ñ–Ω–∫–∞
- –ö—Ä–∞—Å–∏–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ–º–∏–ª–∫–∏
- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤

## üöÄ –ó–∞–ø—É—Å–∫

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ .NET 9.0 SDK
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ—î–∫—Ç—É:
   ```bash
   cd AspNet.NativeHttpServerSimple
   ```
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ—î–∫—Ç:
   ```bash
   dotnet run
   ```
4. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä —ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ `http://localhost:8082`

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
- `http://localhost:8082/` - –≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
- `http://localhost:8082/info` - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞–ø–∏—Ç
- `http://localhost:8082/headers` - HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- `http://localhost:8082/query?name=–Ü–≤–∞–Ω&age=25` - query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- `http://localhost:8082/form` - —Ç–µ—Å—Ç–æ–≤–∞ —Ñ–æ—Ä–º–∞

### –ß–µ—Ä–µ–∑ curl:
```bash
# –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
curl http://localhost:8082/

# –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞–ø–∏—Ç
curl http://localhost:8082/info

# Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
curl "http://localhost:8082/query?name=–¢–µ—Å—Ç&city=–ö–∏—ó–≤"

# POST –∑–∞–ø–∏—Ç
curl -X POST http://localhost:8082/submit \
  -d "name=–Ü–≤–∞–Ω&email=ivan@test.com&message=–ü—Ä–∏–≤—ñ—Ç" \
  -H "Content-Type: application/x-www-form-urlencoded"

# 404 –ø–æ–º–∏–ª–∫–∞
curl http://localhost:8082/nonexistent
```

## üîß –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### HTTP Listener
```csharp
var listener = new HttpListener();
listener.Prefixes.Add("http://localhost:8082/");
listener.Start();
```

### –†–æ—É—Ç–∏–Ω–≥
```csharp
string path = request.Url?.AbsolutePath ?? "/";
string htmlContent = path switch
{
    "/" => GenerateHomePage(request),
    "/info" => GenerateInfoPage(request),
    "/headers" => GenerateHeadersPage(request),
    // ...
    _ => GenerateNotFoundPage(request)
};
```

### Query String
```csharp
var queryParams = HttpUtility.ParseQueryString(queryString);
foreach (string key in queryParams.AllKeys)
{
    string value = queryParams[key] ?? "";
    // –û–±—Ä–æ–±–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
}
```

### POST –¥–∞–Ω—ñ
```csharp
using var reader = new StreamReader(request.InputStream, request.ContentEncoding ?? Encoding.UTF8);
string formData = await reader.ReadToEndAsync();
var formParams = HttpUtility.ParseQueryString(formData);
```

## üìö –©–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ü–µ–π –∫–æ–¥

### ‚úÖ –û—Å–Ω–æ–≤–∏ HTTP:
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è HTTP —Å–µ—Ä–≤–µ—Ä–∞
- –û–±—Ä–æ–±–∫–∞ GET —Ç–∞ POST –∑–∞–ø–∏—Ç—ñ–≤
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –í—ñ–¥–ø—Ä–∞–≤–∫–∞ HTML –∫–æ–Ω—Ç–µ–Ω—Ç—É

### ‚úÖ –†–æ—É—Ç–∏–Ω–≥:
- –ü—Ä–æ—Å—Ç–∏–π —Ä–æ—É—Ç–∏–Ω–≥ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —à–ª—è—Ö—É
- –û–±—Ä–æ–±–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤
- 404 –¥–ª—è –Ω–µ–≤—ñ–¥–æ–º–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤

### ‚úÖ –û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö:
- –†–æ–∑–±—ñ—Ä Query String –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- –ß–∏—Ç–∞–Ω–Ω—è POST –¥–∞–Ω–∏—Ö –∑ —Ñ–æ—Ä–º
- –ö–æ–¥—É–≤–∞–Ω–Ω—è/–¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è URL

### ‚úÖ HTML –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è:
- –î–∏–Ω–∞–º—ñ—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è HTML
- CSS —Å—Ç–∏–ª—ñ
- –§–æ—Ä–º–∏ —Ç–∞ —Ç–∞–±–ª–∏—Ü—ñ

### ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫:
- Try-catch –±–ª–æ–∫–∏
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—å
- –ö–æ—Ä–µ–∫—Ç–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

## üéì –û—Å–≤—ñ—Ç–Ω—è —Ü—ñ–Ω–Ω—ñ—Å—Ç—å

–¶–µ–π –ø—Ä–æ—î–∫—Ç –ø–æ–∫–∞–∑—É—î:
1. **–°–∫—ñ–ª—å–∫–∏ –∫–æ–¥—É** –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
2. **–Ø–∫ –ø—Ä–∞—Ü—é—é—Ç—å** HTTP –∑–∞–ø–∏—Ç–∏ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
3. **–©–æ —Ä–æ–±–∏—Ç—å** ASP.NET Core "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º"
4. **–ß–æ–º—É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏** —Ä–æ–±–ª—è—Ç—å —Ä–æ–∑—Ä–æ–±–∫—É –ø—Ä–æ—Å—Ç—ñ—à–æ—é

## üîÑ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ ASP.NET Core

–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –≤ ASP.NET Core Minimal API:

```csharp
var app = WebApplication.Create();

app.MapGet("/", () => "Hello World!");
app.MapGet("/info", (HttpContext ctx) => ctx.Request.Headers);
app.MapPost("/submit", (IFormCollection form) => form);

app.Run();
```

**–†—ñ–∑–Ω–∏—Ü—è –≤ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–¥—É: ~590 —Ä—è–¥–∫—ñ–≤ vs ~10 —Ä—è–¥–∫—ñ–≤!** ü§Ø

## üèÅ –í–∏—Å–Ω–æ–≤–æ–∫

–¶–µ–π –ø—Ä–æ—Å—Ç–∏–π —Å–µ—Ä–≤–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –æ—Å–Ω–æ–≤–∏ –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ –ø–æ–∫–∞–∑—É—î —Ü—ñ–Ω–Ω—ñ—Å—Ç—å —Å—É—á–∞—Å–Ω–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤. –•–æ—á–∞ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ HTTP —Å–µ—Ä–≤–µ—Ä –Ω–∞ —á–∏—Å—Ç–æ–º—É .NET, ASP.NET Core –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î —Ç–∞ –ø—Ä–∏—Å–∫–æ—Ä—é—î —Ä–æ–∑—Ä–æ–±–∫—É.
